function indexOfByPath(t,e){for(var r=0;r<t.length;r++)if(t[r].path===e)return r;return-1}var width=1024,height=1024,svg=d3.select("#container").append("svg").attr("width",width).attr("height",height).style("visibility","hidden").attr("id","graph"),url="https://rfc-webcrawl.azurewebsites.net/api/WebCrawlResults";d3.json(url,function(t,e){if(t)throw t;var r=e.links.map(function(t){return{source:indexOfByPath(e.urls,t.source),target:indexOfByPath(e.urls,t.target),weight:1}}),i=d3.layout.force().charge(-3e3).linkDistance(50).size([width,height]).nodes(e.urls).links(r).gravity(1).start(),n=svg.selectAll(".link").data(r).enter().append("svg:line").attr("class","link ").style("stroke-width",3),a=svg.selectAll(".node").data(e.urls).enter().append("svg:g").attr("class","node");a.append("svg:circle").attr("r",5).style("fill","#555").style("stroke","#FFF").style("stroke-width",3),a.call(i.drag),a.append("title").text(function(t){return t.path});var s=function(){this.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})},l=function(){this.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})};i.on("tick",function(){a.call(l),n.call(s)}),d3.select("#graph").style("visibility","visible"),d3.select("#loading-message").style("visibility","hidden")});
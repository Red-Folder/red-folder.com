!function(){"use strict";angular.module("app",[])}();
!function(){"use strict";function t(t){function e(){t.getAll().then(function(t){u.errorred=!1,n(t),u.loading=!1})["catch"](function(t){u.errorred=!0,n(null)})}function n(t){u.rawData=t,r(t)}function r(t){if(null===t)u.graphData=null;else{var e=t.urls.map(function(t){return{title:t.path}}),n=t.links.map(function(t){return{source:a(e,t.source),target:a(e,t.target),weight:1}});u.graphData={nodes:e,links:n}}}function a(t,e){for(var n=0;n<t.length;n++)if(t[n].title===e)return n;return-1}function l(){e()}var u=this;u.errorred=!1,u.loading=!0,u.rawData=null,u.graphData=null,u.selectedNode=null,u.onClick=function(t){if(u.selectedNode=t,null===u.selectedNode)r(u.rawData);else{var e={};e.links=u.rawData.links.filter(function(t){return t.source===u.selectedNode||t.target===u.selectedNode});var n=e.links.map(function(t){return t.source}).concat(e.links.map(function(t){return t.target}));e.urls=u.rawData.urls.filter(function(t){return n.indexOf(t.path)>=-1}),r(e)}},l()}angular.module("app").controller("WebCrawlController",t),t.$inject=["webCrawlDataService"]}();
!function(){"use strict";function t(t,n){var e={restrict:"E",scope:{data:"=",onClick:"&"},link:function(e,r,i){t.d3().then(function(t){var i=t.select(r[0]).append("svg").style("width","100%");window.onresize=function(){e.$apply()},e.$watch(function(){return angular.element(n)[0].innerWidth},function(){e.render(e.data)}),e.$watch("data",function(t,n){return e.render(t)},!0),e.render=function(n){if(i.selectAll("*").remove(),n){var a=t.select(r[0]).node().offsetWidth,l=1500;i.attr("height",l).attr("id","graph");var c=t.layout.force().charge(-3e3).linkDistance(50).size([a,l]).nodes(n.nodes).links(n.links).gravity(1).start(),o=i.selectAll(".link").data(n.links).enter().append("svg:line").attr("class","link ").style("stroke-width",3),s=i.selectAll(".node").data(n.nodes).enter().append("svg:g").attr("class","node");s.append("svg:circle").attr("r",50).style("fill","#555").style("stroke","#FFF").style("stroke-width",3),s.call(c.drag).on("dblclick",function(t){return console.log("dblclick event"),e.onClick({item:t.title})}),s.append("title").text(function(t){return t.title});var u=function(){this.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})},d=function(){this.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})};c.on("tick",function(){s.call(d),o.call(u)})}}})}};return e}angular.module("app").directive("rfcWebCrawlGraph",t),t.$inject=["d3Service","$window"]}();
!function(){"use strict";function e(e,t,n){function o(){n.$apply(function(){r.resolve(window.d3)})}var r=t.defer(),a=e[0].createElement("script");a.type="text/javascript",a.async=!0,a.src="http://d3js.org/d3.v3.min.js",a.onreadystatechange=function(){"complete"==this.readyState&&o()},a.onload=o;var c=e[0].getElementsByTagName("body")[0];return c.appendChild(a),{d3:function(){return r.promise}}}angular.module("app").factory("d3Service",e),e.$inject=["$document","$q","$rootScope"]}();
!function(){"use strict";function t(t,e){function r(){function r(t){return t.data}function a(t){var r="Query for Web Crawl results failed. "+t.data.description;return e.reject(r)}return t.get("https://rfc-webcrawl.azurewebsites.net/api/WebCrawlResults").then(r)["catch"](a)}var a={getAll:r};return a}angular.module("app").factory("webCrawlDataService",t),t.$inject=["$http","$q"]}();